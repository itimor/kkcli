[Unit]
Description={{ app_name }}
After=network-online.target

[Service]
WorkingDirectory=/yl/app/{{ app_name }}/
ExecStart=/usr/bin/sh -c '/usr/local/java/bin/java  -Xms1G -Xmx1G-Dfile.encoding=UTF-8  -javaagent:/yl/app/skywalking-agent/skywalking-agent.jar -Dskywalking.agent.service_name={{ app_name }} -jar /yl/app/{{ app_name }}/current/{{ app_jar_name }} --spring.profiles.active={{ app_env }} --nacos.server-address={{ app_nacos }} --nacos.namespace={{ app_env }}'
StandardOutput=journal
StandardError=inherit
LimitNOFILE=65536
TimeoutStopSec=0
KillSignal=SIGTERM
SendSIGKILL=no
SuccessExitStatus=0
Restart=always
User=kkom
Group=kkom

[Install]
WantedBy=multi-user.target
